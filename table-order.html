<!DOCTYPE html>
<html lang="ku" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø¨ÙˆÙˆÙ… Ù¾ÛŒØªØ²Ø§ - Ø³ÛŒØ³ØªÙ… Ù†Ø§ÙˆÛ•ÙˆÛ•</title>
    <link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@400;700;900&display=swap" rel="stylesheet">
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-database-compat.js"></script>
    <style>
        :root { --accent: #ff3131; --bg: rgba(10, 11, 13, 0.85); --card: rgba(22, 24, 29, 0.9); --text: #ffffff; --gold: #ffc107; }
        
        body { 
            font-family: 'Vazirmatn', sans-serif; 
            margin: 0; 
            padding-bottom: 50px;
            color: var(--text);
            background: linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.7)), 
                        url('https://images.unsplash.com/photo-1513104890138-7c749659a591?auto=format&fit=crop&w=1000&q=80');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            overflow-x: hidden;
        }

        /* Ú†Ø§Ú©Ú©Ø±Ø¯Ù†ÛŒ Ø³ØªØ§ÛŒÙ„ÛŒ Ø¨Û•ÙØ±Û•Ú©Û• */
        .snow-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            pointer-events: none;
            z-index: 9999; /* Ø¯ÚµÙ†ÛŒØ§Ø¨ÙˆÙˆÙ† Ù„Û•ÙˆÛ•ÛŒ Ù„Û•Ø³Û•Ø±Û•ÙˆÛ•ÛŒÛ• */
        }
        .snowflake {
            position: absolute;
            top: -10px;
            background: white;
            border-radius: 50%;
            pointer-events: none;
            animation: fall linear forwards;
        }
        @keyframes fall {
            to { transform: translateY(105vh); }
        }

        .container { padding: 15px; max-width: 500px; margin: auto; position: relative; z-index: 10; }
        .table-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; margin-bottom: 20px; }
        .table-btn { background: var(--card); border: 1px solid #444; color: white; padding: 15px 5px; border-radius: 12px; cursor: pointer; transition: 0.3s; font-family: inherit; backdrop-filter: blur(5px); }
        .table-btn.active { background: var(--accent); border-color: #fff; }
        .order-form { background: var(--card); padding: 20px; border-radius: 20px; border: 1px solid #444; backdrop-filter: blur(10px); }
        .item-row { display: flex; justify-content: space-between; align-items: center; background: #1f2229; padding: 10px; margin-bottom: 8px; border-radius: 10px; border-right: 3px solid var(--accent); }
        .category-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 15px; }
        .cat-btn { background: #25282e; border: 1px solid #444; color: white; padding: 20px 10px; border-radius: 15px; cursor: pointer; text-align: center; font-weight: bold; }
        .modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.9); z-index: 10000; justify-content: center; align-items: center; }
        .modal-content { background: #16181d; width: 85%; max-width: 350px; padding: 20px; border-radius: 20px; border: 1px solid var(--accent); }
        .qty-input { width: 70px; text-align: center; font-size: 1.5rem; background: #000; color: var(--gold); border: 1px solid #444; border-radius: 8px; }
        .btn-main { background: var(--accent); color: white; padding: 15px; border-radius: 12px; border: none; width: 100%; font-weight: bold; cursor: pointer; }
        .btn-cancel { background: #333; color: #fff; padding: 10px; border-radius: 8px; border: none; width: 100%; margin-top: 10px; cursor: pointer; }
    </style>
</head>
<body>

    <div class="snow-container" id="snow-container"></div>

    <div class="container">
        <h2 style="text-align:center; color:var(--accent); text-shadow: 2px 2px 4px rgba(0,0,0,0.8);">Ø¨ÙˆÙ… Ù¾ÛŒØªØ²Ø§ ğŸ•</h2>
        
        <div class="table-grid">
            <button class="table-btn" onclick="selectDesk(1, this)">Ù…ÛØ²ÛŒ Ù¡</button>
            <button class="table-btn" onclick="selectDesk(2, this)">Ù…ÛØ²ÛŒ Ù¢</button>
            <button class="table-btn" onclick="selectDesk(3, this)">Ù…ÛØ²ÛŒ Ù£</button>
            <button class="table-btn" onclick="selectDesk(4, this)">Ù…ÛØ²ÛŒ Ù¤</button>
            <button class="table-btn" onclick="selectDesk(5, this)">Ù…ÛØ²ÛŒ Ù¥</button>
            <button class="table-btn" onclick="selectDesk(6, this)">Ù…ÛØ²ÛŒ Ù¦</button>
        </div>

        <div class="order-form">
            <div class="category-grid">
                <div class="cat-btn" onclick="openCat('Ù¾ÛŒØªØ²Ø§Ú©Ø§Ù†')">ğŸ• Ù¾ÛŒØªØ²Ø§Ú©Ø§Ù†</div>
                <div class="cat-btn" onclick="openCat('Ø¨Û•Ø±Ú¯Ø±Û•Ú©Ø§Ù†')">ğŸ” Ø¨Û•Ø±Ú¯Ø±Û•Ú©Ø§Ù†</div>
                <div class="cat-btn" onclick="openCat('Ù„Ø§ÙˆÛ•Ú©ÛŒÛŒÛ•Ú©Ø§Ù†')">ğŸŸ Ù„Ø§ÙˆÛ•Ú©ÛŒÛŒÛ•Ú©Ø§Ù†</div>
                <div class="cat-btn" onclick="openCat('Ø®ÙˆØ§Ø±Ø¯Ù†Û•ÙˆÛ•')">ğŸ¥¤ Ø®ÙˆØ§Ø±Ø¯Ù†Û•ÙˆÛ•</div>
            </div>
            <div id="selected-list"></div>
            <div style="margin-top:20px; border-top:1px solid #444; padding-top:15px;">
                <div style="display:flex; justify-content:space-between;"><span>Ú©Û†ÛŒ Ú¯Ø´ØªÛŒ:</span><span id="display-total" style="color:var(--gold);">0 Ø¯.Ø¹</span></div>
                <button class="btn-main" onclick="sendOrder()">Ù†Ø§Ø±Ø¯Ù†ÛŒ Ø¯Ø§ÙˆØ§Ú©Ø§Ø±ÛŒ âœ…</button>
            </div>
        </div>
    </div>

    <div id="cat-modal" class="modal"><div class="modal-content"><h3 id="cat-title" style="color:var(--accent);">Ù†Ø§Ùˆ</h3><div id="food-list" style="max-height: 300px; overflow-y: auto;"></div><button class="btn-cancel" onclick="closeModal('cat-modal')">Ø¯Ø§Ø®Ø³ØªÙ†</button></div></div>
    <div id="qty-modal" class="modal"><div class="modal-content" style="text-align:center;"><h3 id="modal-food-name">Ù†Ø§Ùˆ</h3><input type="number" id="qty-input" class="qty-input" value="1"><input type="text" id="extra-input" style="width:100%; padding:10px; margin-top:10px; background:#111; color:white; border:1px solid #444;" placeholder="ØªÛØ¨ÛŒÙ†ÛŒ..."><button class="btn-main" onclick="confirmAdd()">Ø²ÛŒØ§Ø¯Ú©Ø±Ø¯Ù†</button><button class="btn-cancel" onclick="closeModal('qty-modal')">Ù¾Ø§Ø´Ú¯Û•Ø²Ø¨ÙˆÙˆÙ†Û•ÙˆÛ•</button></div></div>

    <script>
        const firebaseConfig = {
            apiKey: "AIzaSyDqoOjm4m1Fxp760mJPy0sv5_NjaJfkm7g",
            databaseURL: "https://boompizza-5d048-default-rtdb.firebaseio.com",
            projectId: "boompizza-5d048",
        };
        firebase.initializeApp(firebaseConfig);
        const db = firebase.database();

        const menuData = {
            'Ù¾ÛŒØªØ²Ø§Ú©Ø§Ù†': [{name:'Ù¾ÛŒØªØ²Ø§ Ú¯Û†Ø´Øª S', price:4500},{name:'Ù¾ÛŒØªØ²Ø§ Ú¯Û†Ø´Øª M', price:5000},{name:'Ù¾ÛŒØªØ²Ø§ Ú¯Û†Ø´Øª L', price:7000},{name:'Ù¾ÛŒØªØ²Ø§ Ù…Ø±ÛŒØ´Ú© S', price:4000},{name:'Ù¾ÛŒØªØ²Ø§ Ù…Ø±ÛŒØ´Ú© M', price:5000},{name:'Ù¾ÛŒØªØ²Ø§ Ù…Ø±ÛŒØ´Ú© L', price:6000},{name:'Ù¾ÛŒØªØ²Ø§ Ù…ÙˆØ´Û•Ú©Û•Ù„', price:4000},{name:'Ù¾ÛŒØªØ²Ø§ Ù¾ÛÙ¾Û•Ú•Û†Ù†ÛŒ', price:4000},{name:'Ø¨ÙˆÙˆÙ… Ù¾ÛŒØ²Ø§', price:7000}],
            'Ø¨Û•Ø±Ú¯Ø±Û•Ú©Ø§Ù†': [{name:'Ø¨ÙˆÙˆÙ… Ø¨Û•Ø±Ú¯Ø±', price:6000},{name:'Ú†ÛŒØ² Ø¨Û•Ø±Ú¯Ø±', price:3000},{name:'Ø²ÛŒÙ†Ú¯Û•Ø± Ø¨Û•Ø±Ú¯Ø±', price:5500},{name:'Ø¯Û•Ø¨Úµ Ú†ÛŒØ²', price:4000},{name:'Ø¨Û•Ø±Ú¯Ø±ÛŒ Ù‚Ø§Ø±Ú†Ú©', price:5000}],
            'Ù„Ø§ÙˆÛ•Ú©ÛŒÛŒÛ•Ú©Ø§Ù†': [{name:'ÙÛŒÙ†Ú¯Û•Ø±', price:1500},{name:'Ù„Û•ÙÛ•ÛŒ Ø´Ø§ÙˆÛ•Ø±Ù…Û•', price:1500},{name:'Ø´Ø§ÙˆÛ•Ø±Ù…Û•ÛŒ Ø³Ø§Ø¬', price:3000}],
            'Ø®ÙˆØ§Ø±Ø¯Ù†Û•ÙˆÛ•': [{name:'Ù¾ÛÙ¾Ø³ÛŒ', price:500},{name:'Ø¦Ø§Ùˆ', price:250},{name:'Ù…Ø§Ø³ØªØ§Ùˆ', price:500}]
        };

        let selectedDeskNum = null, cart = [], currentItem = null;

        // --- Ú†Ø§Ú©Ú©Ø±Ø¯Ù†ÛŒ Ú©Û†Ø¯ÛŒ Ø¨Û•ÙØ±Û•Ú©Û• ---
        function createSnowflake() {
            const container = document.getElementById('snow-container');
            if(!container) return;
            const snowflake = document.createElement('div');
            const size = Math.random() * 6 + 3 + 'px'; // Ø¨Û•ÙØ±ÛŒ Ú¯Û•ÙˆØ±Û•ØªØ±
            snowflake.classList.add('snowflake');
            snowflake.style.left = Math.random() * 100 + 'vw';
            snowflake.style.opacity = Math.random() * 0.8 + 0.2;
            snowflake.style.width = size;
            snowflake.style.height = size;
            snowflake.style.animationDuration = Math.random() * 3 + 5 + 's'; // Ú©Û•Ù…ÛÚ© Ù‡ÛÙˆØ§Ø´ØªØ±
            container.appendChild(snowflake);
            setTimeout(() => { snowflake.remove(); }, 8000);
        }
        setInterval(createSnowflake, 200); // Ø¯Ø±ÙˆØ³ØªÚ©Ø±Ø¯Ù†ÛŒ Ø¨Û•ÙØ± Ù„Û• Ù‡Û•Ø± Ù¢Ù Ù  Ù…ÛŒÙ„Ù„ÛŒ Ú†Ø±Ú©Û•ÛŒÛ•Ú©Ø¯Ø§

        function selectDesk(n, b) { selectedDeskNum = n; document.querySelectorAll('.table-btn').forEach(x => x.classList.remove('active')); b.classList.add('active'); }
        function openCat(c) { const l = document.getElementById('food-list'); document.getElementById('cat-title').innerText = c; l.innerHTML = ''; menuData[c].forEach(f => { l.innerHTML += `<div style="background:#1f2229; padding:15px; margin:5px; border-radius:10px; cursor:pointer;" onclick="openQty('${f.name}', ${f.price})">${f.name} - ${f.price}</div>`; }); document.getElementById('cat-modal').style.display = 'flex'; }
        function openQty(n, p) { currentItem = {n, p}; document.getElementById('modal-food-name').innerText = n; document.getElementById('qty-modal').style.display = 'flex'; }
        function confirmAdd() { cart.push({n: currentItem.n, p: currentItem.p, q: parseInt(document.getElementById('qty-input').value), e: document.getElementById('extra-input').value}); closeModal('qty-modal'); closeModal('cat-modal'); updateUI(); }
        function updateUI() { const l = document.getElementById('selected-list'); let t = 0; l.innerHTML = ''; cart.forEach((i, idx) => { t += (i.p * i.q); l.innerHTML += `<div class="item-row"><div>${i.q}x ${i.n}</div><div>${i.p*i.q} <button onclick="cart.splice(${idx},1);updateUI()" style="background:none; border:none; color:red;">Ã—</button></div></div>`; }); document.getElementById('display-total').innerText = t.toLocaleString() + " Ø¯.Ø¹"; }
        function closeModal(id) { document.getElementById(id).style.display = 'none'; }
        function sendOrder() { if(!selectedDeskNum || cart.length==0) return alert("Ù…ÛØ² ÛŒØ§Ù† Ø®ÙˆØ§Ø±Ø¯Ù† Ù‡Û•ÚµØ¨Ú˜ÛØ±Û•!"); db.ref('orders').push({ items: cart.map(i=>`${i.q}x ${i.n}`).join(', '), total: document.getElementById('display-total').innerText, phone: "Ù…ÛØ²ÛŒ "+selectedDeskNum, time: new Date().toLocaleString() }).then(()=>location.reload()); }
    </script>
</body>
</html>
