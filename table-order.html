<!DOCTYPE html>
<html lang="ku" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø¨ÙˆÙˆÙ… Ù¾ÛŒØªØ²Ø§ - Ø³ÛŒØ³ØªÙ… Ù†Ø§ÙˆÛ•ÙˆÛ•</title>
    <link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@400;700;900&display=swap" rel="stylesheet">
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-database-compat.js"></script>
    <style>
        :root { --accent: #ff3131; --bg: rgba(10, 11, 13, 0.85); --card: rgba(22, 24, 29, 0.9); --text: #ffffff; --gold: #ffc107; }
        
        body { 
            font-family: 'Vazirmatn', sans-serif; 
            margin: 0; 
            padding-bottom: 50px;
            color: var(--text);
            /* Ù¾Ø§Ø´Ø¨Ù†Û•Ù…Ø§ÛŒ ÙˆÛÙ†Û• */
            background: linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.7)), 
                        url('https://images.unsplash.com/photo-1513104890138-7c749659a591?auto=format&fit=crop&w=1000&q=80');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            overflow-x: hidden;
        }

        /* Ø³ØªØ§ÛŒÙ„ÛŒ Ø¨Û•ÙØ±Û•Ú©Û• */
        .snow-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 9999;
        }
        .snowflake {
            position: absolute;
            top: -10px;
            background: white;
            border-radius: 50%;
            pointer-events: none;
            animation: fall linear infinite;
        }
        @keyframes fall {
            to { transform: translateY(105vh); }
        }

        .container { padding: 15px; max-width: 500px; margin: auto; position: relative; z-index: 10; }
        
        .table-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; margin-bottom: 20px; }
        .table-btn { background: var(--card); border: 1px solid #444; color: white; padding: 15px 5px; border-radius: 12px; cursor: pointer; transition: 0.3s; font-family: inherit; backdrop-filter: blur(5px); }
        .table-btn.active { background: var(--accent); border-color: #fff; }

        .order-form { background: var(--card); padding: 20px; border-radius: 20px; border: 1px solid #444; backdrop-filter: blur(10px); }
        
        .selected-list { margin-top: 10px; border-top: 1px solid #333; padding-top: 10px; max-height: 200px; overflow-y: auto; }
        .item-row { display: flex; justify-content: space-between; align-items: center; background: #1f2229; padding: 10px; margin-bottom: 8px; border-radius: 10px; border-right: 3px solid var(--accent); }
        .del-btn { color: #ff3131; background: none; border: none; font-size: 1.2rem; cursor: pointer; }

        .category-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 15px; }
        .cat-btn { background: #25282e; border: 1px solid #444; color: white; padding: 20px 10px; border-radius: 15px; cursor: pointer; text-align: center; font-weight: bold; }
        .cat-btn:active { background: var(--accent); }

        .modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.9); z-index: 1000; justify-content: center; align-items: center; }
        .modal-content { background: #16181d; width: 85%; max-width: 350px; padding: 20px; border-radius: 20px; border: 1px solid var(--accent); }
        
        .food-item { background: #1f2229; padding: 15px; margin: 8px 0; border-radius: 12px; cursor: pointer; display: flex; justify-content: space-between; border: 1px solid #333; }
        
        .qty-input { width: 70px; text-align: center; font-size: 1.5rem; background: #000; color: var(--gold); border: 1px solid #444; border-radius: 8px; padding: 5px; }
        .extra-input { width: 100%; padding: 12px; background: #1f2229; border: 1px solid #333; color: white; border-radius: 10px; margin-top: 10px; font-family: inherit; }

        .btn-main { background: var(--accent); color: white; padding: 15px; border-radius: 12px; border: none; width: 100%; font-weight: bold; cursor: pointer; margin-top: 10px; font-family: inherit; }
        .btn-cancel { background: #333; color: #fff; padding: 10px; border-radius: 8px; border: none; width: 100%; margin-top: 10px; cursor: pointer; font-family: inherit; }
    </style>
</head>
<body>

    <div class="snow-container" id="snow-container"></div>

    <div class="container">
        <h2 style="text-align:center; color:var(--accent); text-shadow: 2px 2px 4px rgba(0,0,0,0.5);">Ø¨ÙˆÙ… Ù¾ÛŒØªØ²Ø§ ğŸ•</h2>
        
        <div class="table-grid">
            <button class="table-btn" onclick="selectDesk(1, this)">Ù…ÛØ²ÛŒ Ù¡</button>
            <button class="table-btn" onclick="selectDesk(2, this)">Ù…ÛØ²ÛŒ Ù¢</button>
            <button class="table-btn" onclick="selectDesk(3, this)">Ù…ÛØ²ÛŒ Ù£</button>
            <button class="table-btn" onclick="selectDesk(4, this)">Ù…ÛØ²ÛŒ Ù¤</button>
            <button class="table-btn" onclick="selectDesk(5, this)">Ù…ÛØ²ÛŒ Ù¥</button>
            <button class="table-btn" onclick="selectDesk(6, this)">Ù…ÛØ²ÛŒ Ù¦</button>
        </div>

        <div class="order-form">
            <p style="margin: 0 0 10px; font-size: 0.9rem; color: #ccc;">Ù¾Û†Ù„ÛÙ†Û•Ú©Ø§Ù† Ù‡Û•ÚµØ¨Ú˜ÛØ±Û•:</p>
            <div class="category-grid">
                <div class="cat-btn" onclick="openCat('Ù¾ÛŒØªØ²Ø§Ú©Ø§Ù†')">ğŸ• Ù¾ÛŒØªØ²Ø§Ú©Ø§Ù†</div>
                <div class="cat-btn" onclick="openCat('Ø¨Û•Ø±Ú¯Ø±Û•Ú©Ø§Ù†')">ğŸ” Ø¨Û•Ø±Ú¯Ø±Û•Ú©Ø§Ù†</div>
                <div class="cat-btn" onclick="openCat('Ù„Ø§ÙˆÛ•Ú©ÛŒÛŒÛ•Ú©Ø§Ù†')">ğŸŸ Ù„Ø§ÙˆÛ•Ú©ÛŒÛŒÛ•Ú©Ø§Ù†</div>
                <div class="cat-btn" onclick="openCat('Ø®ÙˆØ§Ø±Ø¯Ù†Û•ÙˆÛ•')">ğŸ¥¤ Ø®ÙˆØ§Ø±Ø¯Ù†Û•ÙˆÛ•</div>
            </div>
            
            <div class="selected-list" id="selected-list"></div>

            <div style="margin-top:20px; border-top:1px solid #444; padding-top:15px;">
                <div style="display:flex; justify-content:space-between; font-weight:bold;">
                    <span>Ú©Û†ÛŒ Ú¯Ø´ØªÛŒ:</span>
                    <span id="display-total" style="color:var(--gold);">0 Ø¯.Ø¹</span>
                </div>
                <button class="btn-main" onclick="sendOrder()">Ù†Ø§Ø±Ø¯Ù†ÛŒ Ø¯Ø§ÙˆØ§Ú©Ø§Ø±ÛŒ Ø¨Û† Ø¦Û•Ø¯Ù…ÛŒÙ† âœ…</button>
            </div>
        </div>
    </div>

    <div id="cat-modal" class="modal"><div class="modal-content"><h3 id="cat-title" style="margin-top:0; color:var(--accent);">Ù†Ø§Ùˆ</h3><div id="food-list" style="max-height: 350px; overflow-y: auto;"></div><button class="btn-cancel" onclick="closeModal('cat-modal')">Ø¯Ø§Ø®Ø³ØªÙ†</button></div></div>
    <div id="qty-modal" class="modal"><div class="modal-content" style="text-align:center;"><h3 id="modal-food-name" style="margin-top:0;">Ù†Ø§Ùˆ</h3><div style="margin:15px 0;"><label style="display:block; margin-bottom:10px
